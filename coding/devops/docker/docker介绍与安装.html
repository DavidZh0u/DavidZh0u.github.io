<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Docker介绍与安装 | 编程练习生-周大伟</title>
    <meta name="description" content="有道无术，术尚可求；有术无道，止于术。">
    <link rel="icon" href="/images/index.jpg">
  <link rel="manifest" href="/images/index.jpg">
  <link rel="apple-touch-icon" href="/images/index.jpg">
  <meta http-quiv="pragma" cotent="no-cache">
  <meta http-quiv="expires" cotent="0">
  <meta http-quiv="pragma" cotent="no-cache, must-revalidate">
    
    <link rel="preload" href="/assets/css/0.styles.051786a9.css" as="style"><link rel="preload" href="/assets/js/app.b72606ea.js" as="script"><link rel="preload" href="/assets/js/2.009073d5.js" as="script"><link rel="preload" href="/assets/js/10.8052dcd5.js" as="script"><link rel="prefetch" href="/assets/js/11.6c1bd076.js"><link rel="prefetch" href="/assets/js/12.fc9a82b6.js"><link rel="prefetch" href="/assets/js/13.5eb30f78.js"><link rel="prefetch" href="/assets/js/14.a639e12f.js"><link rel="prefetch" href="/assets/js/15.bdfbcd1a.js"><link rel="prefetch" href="/assets/js/16.695bd086.js"><link rel="prefetch" href="/assets/js/17.5678d4f2.js"><link rel="prefetch" href="/assets/js/18.8780292b.js"><link rel="prefetch" href="/assets/js/19.77f42d1b.js"><link rel="prefetch" href="/assets/js/20.e25c614a.js"><link rel="prefetch" href="/assets/js/21.4bbab9fb.js"><link rel="prefetch" href="/assets/js/22.bf87a705.js"><link rel="prefetch" href="/assets/js/23.f229c0fa.js"><link rel="prefetch" href="/assets/js/24.30eb8305.js"><link rel="prefetch" href="/assets/js/25.88743743.js"><link rel="prefetch" href="/assets/js/26.2d7e0aa2.js"><link rel="prefetch" href="/assets/js/27.5b310cb6.js"><link rel="prefetch" href="/assets/js/28.19aa4725.js"><link rel="prefetch" href="/assets/js/29.dad73ace.js"><link rel="prefetch" href="/assets/js/3.a4c489a8.js"><link rel="prefetch" href="/assets/js/30.247a8cea.js"><link rel="prefetch" href="/assets/js/31.92816731.js"><link rel="prefetch" href="/assets/js/32.79ee03ca.js"><link rel="prefetch" href="/assets/js/33.0f94f829.js"><link rel="prefetch" href="/assets/js/34.86d2419b.js"><link rel="prefetch" href="/assets/js/35.c0dc95d1.js"><link rel="prefetch" href="/assets/js/36.4f1a3095.js"><link rel="prefetch" href="/assets/js/37.971326b1.js"><link rel="prefetch" href="/assets/js/38.ed229447.js"><link rel="prefetch" href="/assets/js/39.c8db9a95.js"><link rel="prefetch" href="/assets/js/4.244111db.js"><link rel="prefetch" href="/assets/js/40.0157514b.js"><link rel="prefetch" href="/assets/js/41.e51cbfee.js"><link rel="prefetch" href="/assets/js/42.6ff72c31.js"><link rel="prefetch" href="/assets/js/43.1dc8f614.js"><link rel="prefetch" href="/assets/js/44.b35909e1.js"><link rel="prefetch" href="/assets/js/45.e651b06f.js"><link rel="prefetch" href="/assets/js/46.e8817dcb.js"><link rel="prefetch" href="/assets/js/47.67e0fdfa.js"><link rel="prefetch" href="/assets/js/48.0b5a8c11.js"><link rel="prefetch" href="/assets/js/49.c99e5906.js"><link rel="prefetch" href="/assets/js/5.f444bec9.js"><link rel="prefetch" href="/assets/js/50.310f7068.js"><link rel="prefetch" href="/assets/js/51.3e2ea8de.js"><link rel="prefetch" href="/assets/js/52.d3faa73a.js"><link rel="prefetch" href="/assets/js/53.7b2fe8fc.js"><link rel="prefetch" href="/assets/js/54.36789f48.js"><link rel="prefetch" href="/assets/js/55.5744b5ef.js"><link rel="prefetch" href="/assets/js/56.4486a446.js"><link rel="prefetch" href="/assets/js/57.74a082da.js"><link rel="prefetch" href="/assets/js/58.13765365.js"><link rel="prefetch" href="/assets/js/59.b1d00ae4.js"><link rel="prefetch" href="/assets/js/6.a4439dba.js"><link rel="prefetch" href="/assets/js/60.33ec256f.js"><link rel="prefetch" href="/assets/js/61.fa42d696.js"><link rel="prefetch" href="/assets/js/62.e7d9236f.js"><link rel="prefetch" href="/assets/js/63.5b7372c4.js"><link rel="prefetch" href="/assets/js/64.76cf9f35.js"><link rel="prefetch" href="/assets/js/7.9892eb3b.js"><link rel="prefetch" href="/assets/js/8.f0a4679a.js"><link rel="prefetch" href="/assets/js/9.23798b95.js">
    <link rel="stylesheet" href="/assets/css/0.styles.051786a9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">编程练习生-周大伟</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">内容导航</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/info/我是谁.html" class="nav-link">生活随笔</a></li><li class="dropdown-item"><!----> <a href="/info/我是谁.html" class="nav-link">技术之道</a></li><li class="dropdown-item"><!----> <a href="/info/我是谁.html" class="nav-link">兴趣爱好</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">测试按钮</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>第一个选项组</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/coding/devops/docker/www.baidu.com.html" class="nav-link">选项1</a></li><li class="dropdown-subitem"><a href="/coding/devops/docker/www.baidu.com.html" class="nav-link">选项2</a></li><li class="dropdown-subitem"><a href="/coding/devops/docker/www.baidu.com.html" class="nav-link">选项3</a></li></ul></li><li class="dropdown-item"><h4>第二个选项组</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/coding/devops/docker/www.baidu.com.html" class="nav-link">选项4</a></li><li class="dropdown-subitem"><a href="/coding/devops/docker/www.baidu.com.html" class="nav-link">选项5</a></li><li class="dropdown-subitem"><a href="/coding/devops/docker/www.baidu.com.html" class="nav-link">选项6</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">技术方向</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/skill/Java/index.html" class="nav-link">Java杂谈</a></li><li class="dropdown-item"><!----> <a href="/skill/spring/index.html" class="nav-link">Spring</a></li><li class="dropdown-item"><!----> <a href="/skill/fore-end/index.html" class="nav-link">前端</a></li><li class="dropdown-item"><!----> <a href="/skill/linux/index.html" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/skill/mysql/index.html" class="nav-link">mysql</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">在线文档</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://cn.vuejs.org/v2/api/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.runoob.com/bootstrap/bootstrap-tutorial.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Bootstrap
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><a href="/info/" class="nav-link">在线工具</a></div><div class="nav-item"><a href="/info/我是谁.html" class="nav-link">个人信息</a></div><div class="nav-item"><a href="https://baidu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  传送门
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">内容导航</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/info/我是谁.html" class="nav-link">生活随笔</a></li><li class="dropdown-item"><!----> <a href="/info/我是谁.html" class="nav-link">技术之道</a></li><li class="dropdown-item"><!----> <a href="/info/我是谁.html" class="nav-link">兴趣爱好</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">测试按钮</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>第一个选项组</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/coding/devops/docker/www.baidu.com.html" class="nav-link">选项1</a></li><li class="dropdown-subitem"><a href="/coding/devops/docker/www.baidu.com.html" class="nav-link">选项2</a></li><li class="dropdown-subitem"><a href="/coding/devops/docker/www.baidu.com.html" class="nav-link">选项3</a></li></ul></li><li class="dropdown-item"><h4>第二个选项组</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/coding/devops/docker/www.baidu.com.html" class="nav-link">选项4</a></li><li class="dropdown-subitem"><a href="/coding/devops/docker/www.baidu.com.html" class="nav-link">选项5</a></li><li class="dropdown-subitem"><a href="/coding/devops/docker/www.baidu.com.html" class="nav-link">选项6</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">技术方向</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/skill/Java/index.html" class="nav-link">Java杂谈</a></li><li class="dropdown-item"><!----> <a href="/skill/spring/index.html" class="nav-link">Spring</a></li><li class="dropdown-item"><!----> <a href="/skill/fore-end/index.html" class="nav-link">前端</a></li><li class="dropdown-item"><!----> <a href="/skill/linux/index.html" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/skill/mysql/index.html" class="nav-link">mysql</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">在线文档</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://cn.vuejs.org/v2/api/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.runoob.com/bootstrap/bootstrap-tutorial.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Bootstrap
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><a href="/info/" class="nav-link">在线工具</a></div><div class="nav-item"><a href="/info/我是谁.html" class="nav-link">个人信息</a></div><div class="nav-item"><a href="https://baidu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  传送门
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/coding/devops/Devops平台介绍.html" class="sidebar-link">Devops平台介绍</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Docker系列</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/coding/devops/docker/docker介绍与安装.html" class="active sidebar-link">Docker介绍与安装</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/coding/devops/docker/docker介绍与安装.html#docker是什么" class="sidebar-link">Docker是什么</a></li><li class="sidebar-sub-header"><a href="/coding/devops/docker/docker介绍与安装.html#docker体系结构" class="sidebar-link">Docker体系结构</a></li><li class="sidebar-sub-header"><a href="/coding/devops/docker/docker介绍与安装.html#内部组件" class="sidebar-link">内部组件</a></li><li class="sidebar-sub-header"><a href="/coding/devops/docker/docker介绍与安装.html#虚拟机与容器区别" class="sidebar-link">虚拟机与容器区别</a></li><li class="sidebar-sub-header"><a href="/coding/devops/docker/docker介绍与安装.html#docker应用场景" class="sidebar-link">Docker应用场景</a></li><li class="sidebar-sub-header"><a href="/coding/devops/docker/docker介绍与安装.html#linux安装docker" class="sidebar-link">Linux安装Docker</a></li></ul></li><li><a href="/coding/devops/docker/Centos7下安装docker.html" class="sidebar-link">Centos7下安装docker</a></li><li><a href="/coding/devops/docker/镜像管理.html" class="sidebar-link">镜像管理</a></li><li><a href="/coding/devops/docker/容器管理.html" class="sidebar-link">容器管理</a></li><li><a href="/coding/devops/docker/docker数据卷管理.html" class="sidebar-link">docker数据卷管理</a></li><li><a href="/coding/devops/docker/搭建LNMP网站平台.html" class="sidebar-link">搭建LNMP网站平台</a></li><li><a href="/coding/devops/docker/网络管理.html" class="sidebar-link">网络管理</a></li><li><a href="/coding/devops/docker/Dockerfile介绍.html" class="sidebar-link">Dockerfile介绍</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Kubernetes系列</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Jenkins系列</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="docker介绍与安装"><a href="#docker介绍与安装" aria-hidden="true" class="header-anchor">#</a> Docker介绍与安装</h1> <hr> <h2 id="docker是什么"><a href="#docker是什么" aria-hidden="true" class="header-anchor">#</a> Docker是什么</h2> <p>Docker是一个开源的应用容器引擎，使用Go语言开发，基于Linux内核的cgroup， namespace， Union FS等技术，对应用进程进行封装隔离，并且
独立于宿主机与其他进程，这种运行时封装的状态称为容器。<br>
Docker早起版本实现是基于LXC，并进一步对其封装，包括文件系统、网络互联、镜像管理等方面，极大简化了容器管理。从0.7版本以后开始去
除LXC，转为自行研发的libcontainer，从1.11版本开始，进一步演进为使用runC和containerd。<br>
Docker理念是将应用及依赖包打包到一个可移植的容器中，可发布到任意Linux发行版Docker引擎上。使用沙箱机制运行程序，程序之间相互隔离。</p> <h2 id="docker体系结构"><a href="#docker体系结构" aria-hidden="true" class="header-anchor">#</a> Docker体系结构</h2> <p><img src="/images/docker/docker01.png" alt=""></p> <p><strong>Containerd</strong>是一个简单的守护进程， 使用runC管理容器。 向Docker Engine提供接口。<br> <strong>Shim</strong>只负责管理一个容器。<br> <strong>runC</strong>是一个轻量级的工具， 只用来运行容器。<br> <img src="/images/docker/docker02.png" alt=""></p> <h2 id="内部组件"><a href="#内部组件" aria-hidden="true" class="header-anchor">#</a> 内部组件</h2> <p><strong>Namespaces</strong><br>
命名空间，Linux内核提供的一种对进程资源隔离的机制，例如进程、网络、挂载点等资源
<br><strong>CGroups</strong><br>
控制组，Linux内核提供的一种限制进程资源的机制；例如CPU、内存等资源
<br><strong>UnionFS</strong><br>
联合文件系统，支持将不同的目录挂载到同一虚拟文件系统，形成一种分层的模型</p> <h2 id="虚拟机与容器区别"><a href="#虚拟机与容器区别" aria-hidden="true" class="header-anchor">#</a> 虚拟机与容器区别</h2> <p><img src="/images/docker/docker03.png" alt=""></p> <p>以KVM举例，与Docker对比
<br><strong>启动时间</strong><br>
Docker秒级启动， KVM分钟级启动。
<br><strong>轻量级</strong><br>
容器镜像大小通常以M为单位，虚拟机以G为单位。
容器资源占用小，要比虚拟机部署更快速。
<br><strong>性能</strong><br>
容器共享宿主机内核，系统级虚拟化，占用资源少，没有Hypervisor层开销，容器性能基本接近物理机；
虚拟机需要Hypervisor层支持，虚拟化一些设备，具有完整的GuestOS，虚拟化开销大，因而降低性能，没有容器性能好。
<br><strong>安全性</strong><br>
由于共享宿主机内核，只是进程级隔离，因此隔离性和稳定性不如虚拟机，容器具有一定权限访问宿主机内核，存在一定安全隐患。
<br><strong>使用要求</strong><br>
KVM基于硬件的完全虚拟化，需要硬件CPU虚拟化技术支持；
容器共享宿主机内核，可运行在主流的Linux发行版，不用考虑CPU是否支持虚拟化技术。</p> <h2 id="docker应用场景"><a href="#docker应用场景" aria-hidden="true" class="header-anchor">#</a> Docker应用场景</h2> <p><strong>场景一</strong>： 节省项目环境部署时间<br></p> <ol><li>单项目打包<br></li> <li>整套项目打包<br></li> <li>新开源技术试用<br></li></ol> <p><strong>场景二</strong>： 环境一致性<br> <strong>场景三</strong>： 持续集成<br> <strong>场景四</strong>： 微服务<br> <strong>场景五</strong>： 弹性伸缩<br></p> <h2 id="linux安装docker"><a href="#linux安装docker" aria-hidden="true" class="header-anchor">#</a> Linux安装Docker</h2> <p>我个人的docker学习环境是在Linux-Centos7.x上。学习的docker版本是社区版本。</p> <p><br><strong>卸载旧版本</strong><br>
同时也可以检测是否安装过旧版本，卸载干净后，保持一个初始环境。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$ sudo yum remove docker \
                  docker-client \
                  docker-client-latest \
                  docker-common \
                  docker-latest \
                  docker-latest-logrotate \
                  docker-logrotate \
                  docker-engine
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>如果yum报告没有安装这些软件包，则可以。
/var/lib/docker/保留包括图像，容器，卷和网络在内的内容。<br></p> <p><br><strong>使用存储库安装</strong><br>
在新主机上首次安装Docker Engine - Community之前，需要设置Docker存储库。<br>
设置存储库<br>
安装所需的包。yum-utils提供了yum-config-manager 效用，并device-mapper-persistent-data和lvm2由需要 devicemapper存储驱动程序。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$ sudo yum install -y yum-utils \
  device-mapper-persistent-data \
  lvm2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>使用以下命令设置稳定存储库。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$ sudo yum-config-manager \
    --add-repo \
    https://download.docker.com/linux/centos/docker-ce.repo
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><br><strong>更新yum包索引</strong><br></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$ sudo yum makecache fast
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><br><strong>安装Docker Engine-社区版</strong><br></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$ sudo yum install docker-ce
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><br><strong>启动docker</strong><br></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$ sudo systemctl start docker
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><br><strong>重新启动docker</strong><br></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$ sudo systemctl restart docker
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><br><strong>卸载docker</strong><br>
卸载Docker包：<br></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$ sudo yum remove docker-ce
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>主机上的图像，容器，卷或自定义配置文件不会自动删除。要删除所有图像，容器和卷：<br></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$ sudo rm -rf /var/lib/docker
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>您必须手动删除任何已编辑的配置文件。<br></p> <hr> <p><a href="https://docs.docker.com/install/linux/docker-ce/centos/" target="_blank" rel="noopener noreferrer">Docker官方文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/coding/devops/Devops平台介绍.html" class="prev">
          Devops平台介绍
        </a></span> <span class="next"><a href="/coding/devops/docker/Centos7下安装docker.html">
          Centos7下安装docker
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.b72606ea.js" defer></script><script src="/assets/js/2.009073d5.js" defer></script><script src="/assets/js/10.8052dcd5.js" defer></script>
  </body>
</html>
