(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{231:function(a,s,r){"use strict";r.r(s);var t=r(0),e=Object(t.a)({},function(){var a=this,s=a.$createElement,r=a._self._c||s;return r("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[r("h1",{attrs:{id:"搭建lnmp网站平台"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#搭建lnmp网站平台","aria-hidden":"true"}},[a._v("#")]),a._v(" 搭建LNMP网站平台")]),a._v(" "),r("hr"),a._v(" "),r("h2",{attrs:{id:"创建步骤"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#创建步骤","aria-hidden":"true"}},[a._v("#")]),a._v(" 创建步骤")]),a._v(" "),r("h3",{attrs:{id:"自定义网络"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#自定义网络","aria-hidden":"true"}},[a._v("#")]),a._v(" 自定义网络")]),a._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[a._v("# docker network create lnmp\n")])]),a._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[a._v("1")]),r("br")])]),r("h3",{attrs:{id:"创建mysql数据库容器"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#创建mysql数据库容器","aria-hidden":"true"}},[a._v("#")]),a._v(" 创建Mysql数据库容器")]),a._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[a._v("docker run -itd \\\n--name lnmp_mysql \\\n--net lnmp \\\n-p 3306:3306 \\\n--mount src=mysql-vol,dst=/var/lib/mysql \\\n-e MYSQL_ROOT_PASSWORD=123456 \\\nmysql:5.7 --character-set-server=utf8\n# 注意：如果当前机已经启动mysql,请先关闭，否则会报3306端口占用\n")])]),a._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[a._v("1")]),r("br"),r("span",{staticClass:"line-number"},[a._v("2")]),r("br"),r("span",{staticClass:"line-number"},[a._v("3")]),r("br"),r("span",{staticClass:"line-number"},[a._v("4")]),r("br"),r("span",{staticClass:"line-number"},[a._v("5")]),r("br"),r("span",{staticClass:"line-number"},[a._v("6")]),r("br"),r("span",{staticClass:"line-number"},[a._v("7")]),r("br"),r("span",{staticClass:"line-number"},[a._v("8")]),r("br")])]),r("h3",{attrs:{id:"创建所需数据库"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#创建所需数据库","aria-hidden":"true"}},[a._v("#")]),a._v(" 创建所需数据库")]),a._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[a._v('docker exec lnmp_mysql sh \\\n-c \'exec mysql -uroot -p"$MYSQL_ROOT_PASSWORD" -e"create database wp"\' \n\n')])]),a._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[a._v("1")]),r("br"),r("span",{staticClass:"line-number"},[a._v("2")]),r("br"),r("span",{staticClass:"line-number"},[a._v("3")]),r("br")])]),r("h3",{attrs:{id:"创建php环境容器"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#创建php环境容器","aria-hidden":"true"}},[a._v("#")]),a._v(" 创建PHP环境容器")]),a._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[a._v("docker run -itd \\\n--name lnmp_web \\\n--net lnmp \\\n-p 88:80 \\\n--mount type=bind,src=/app/wwwroot,dst=/var/www/html richarvey/nginx-php-fpm\n# 注意：这里用到绑定挂载，先确保/app/wwwroot目录存在\n")])]),a._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[a._v("1")]),r("br"),r("span",{staticClass:"line-number"},[a._v("2")]),r("br"),r("span",{staticClass:"line-number"},[a._v("3")]),r("br"),r("span",{staticClass:"line-number"},[a._v("4")]),r("br"),r("span",{staticClass:"line-number"},[a._v("5")]),r("br"),r("span",{staticClass:"line-number"},[a._v("6")]),r("br")])]),r("h3",{attrs:{id:"以workpress博客为例测试"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#以workpress博客为例测试","aria-hidden":"true"}},[a._v("#")]),a._v(" 以workpress博客为例测试")]),a._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[a._v("wget https://cn.wordpress.org/wordpress-4.7.4-zh_CN.tar.gz\ntar zxf wordpress-4.7.4-zh_CN.tar.gz -C /app/wwwroot\n\n")])]),a._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[a._v("1")]),r("br"),r("span",{staticClass:"line-number"},[a._v("2")]),r("br"),r("span",{staticClass:"line-number"},[a._v("3")]),r("br")])]),r("hr"),a._v(" "),r("h2",{attrs:{id:"测试一波"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#测试一波","aria-hidden":"true"}},[a._v("#")]),a._v(" 测试一波")]),a._v(" "),r("h3",{attrs:{id:"访问博客"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#访问博客","aria-hidden":"true"}},[a._v("#")]),a._v(" 访问博客")]),a._v(" "),r("p",[a._v("访问http://192.168.163.106:88/wordpress\n"),r("img",{attrs:{src:"/images/docker/docker21.png",alt:""}}),a._v(" "),r("br")]),a._v(" "),r("h3",{attrs:{id:"输入如下信息"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#输入如下信息","aria-hidden":"true"}},[a._v("#")]),a._v(" 输入如下信息")]),a._v(" "),r("p",[r("img",{attrs:{src:"/images/docker/docker22.png",alt:""}}),a._v(" "),r("br")]),a._v(" "),r("h3",{attrs:{id:"按照页面要求创建配置文件"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#按照页面要求创建配置文件","aria-hidden":"true"}},[a._v("#")]),a._v(" 按照页面要求创建配置文件")]),a._v(" "),r("p",[r("img",{attrs:{src:"/images/docker/docker23.png",alt:""}}),a._v(" "),r("br")]),a._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[a._v("# vi /app/wwwroot/wordpress/wp-config.php\n# 把页面中的信息复制到这个文件中，保存关闭\n")])]),a._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[a._v("1")]),r("br"),r("span",{staticClass:"line-number"},[a._v("2")]),r("br")])]),r("h3",{attrs:{id:"设置站点信息"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#设置站点信息","aria-hidden":"true"}},[a._v("#")]),a._v(" 设置站点信息")]),a._v(" "),r("p",[r("img",{attrs:{src:"/images/docker/docker24.png",alt:""}}),a._v(" "),r("br")]),a._v(" "),r("h3",{attrs:{id:"博客站点完成"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#博客站点完成","aria-hidden":"true"}},[a._v("#")]),a._v(" 博客站点完成")]),a._v(" "),r("p",[a._v("访问http://192.168.163.106:88/wordpress/wp-login.php "),r("br"),a._v("\n输入前面设置的账号/密码，然后看到如下页面。 "),r("br"),a._v(" "),r("img",{attrs:{src:"/images/docker/docker25.png",alt:""}}),a._v(" "),r("br")])])},[],!1,null,null,null);s.default=e.exports}}]);