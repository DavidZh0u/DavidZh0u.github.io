(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{220:function(s,a,n){"use strict";n.r(a);var r=n(0),t=Object(r.a)({},function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"centos7环境安装mysql"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#centos7环境安装mysql","aria-hidden":"true"}},[s._v("#")]),s._v(" Centos7环境安装mysql")]),s._v(" "),n("hr"),s._v(" "),n("h3",{attrs:{id:"验证重复安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#验证重复安装","aria-hidden":"true"}},[s._v("#")]),s._v(" 验证重复安装")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# 输入命令查看是否已经安装\n[root@host102 mydir]# rpm -qa|grep mysql\n# 没有安装，什么都不会出现\n[root@host102 mydir]# \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("如果以上命令出现了安装的mysql版本请使用如下命令删除干净：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("$ yum remove mysql msyql-server mysql-libs mysql-common\n$ rm -rf /var/lib/mysql\n$ rm /etc/my.cnf\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("h3",{attrs:{id:"上传安装包"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#上传安装包","aria-hidden":"true"}},[s._v("#")]),s._v(" 上传安装包")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# 使用rz命令上传安装包\n# 使用rz命令需要安装 yum install -y lrzsz\n[root@host102 mydir]# rz\n\n[root@host102 mydir]# ll\ntotal 8\n-rw-r--r--. 1 root root 5824 Oct 12 05:04 mysql-community-release-el6-5.noarch.rpm\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("h3",{attrs:{id:"安装mysql"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装mysql","aria-hidden":"true"}},[s._v("#")]),s._v(" 安装mysql")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# 先执行\n[root@host102 mydir]# yum localinstall mysql-community-release-el6-5.noarch.rpm \n# 后执行\n[root@host102 mydir]# yum install mysql-community-server\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h3",{attrs:{id:"命令客户端测试"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#命令客户端测试","aria-hidden":"true"}},[s._v("#")]),s._v(" 命令客户端测试")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# 启动mysql\n[root@host102 mydir]# service mysqld start\nStarting mysqld (via systemctl):                           [  OK  ]\n\n\n# 安装后无需账号和密码也能进入\n# 不过我们还是常规操作：先设置账号和密码\n# 会出现一条警告，无视它\n[root@host102 mydir]# /usr/bin/mysqladmin -u root password 'admin321'\nWarning: Using a password on the command line interface can be insecure.\n\n\n# 输入上面设置好的账户和密码进入客户端\n# 注意一点：-p后面直接拼密码，没有空格\n[root@host102 mydir]# mysql -u root -padmin321\nWarning: Using a password on the command line interface can be insecure.\n...\n\n# 看看mysql库情况\nmysql> show databases;\n+--------------------+\n| Database           |\n+--------------------+\n| information_schema |\n| mysql              |\n| performance_schema |\n+--------------------+\n3 rows in set (0.00 sec)\n\n...\n# 更多操作，请自行测试\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br")])]),n("h3",{attrs:{id:"设置远程连接"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#设置远程连接","aria-hidden":"true"}},[s._v("#")]),s._v(" 设置远程连接")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# 远程连接需要授权\n# 我们演示用是全部权限授权 ALL PRIVILEGES\n# 如下是给root账户和admin321密码匹配的账户授权\nmysql> GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' IDENTIFIED BY 'admin321' WITH GRANT OPTION;\nQuery OK, 0 rows affected (0.00 sec)\n\n# 如果你希望远程连接可用，要么关闭防火墙，要么暴露监听端口号\n# 我这里是暴露mysql的端口号3306\n[root@host102 mydir]# firewall-cmd --zone=public --add-port=3306/tcp --permanent  \nsuccess\n# 重启防火墙\n[root@host102 mydir]# firewall-cmd --reload  \nsuccess\n# 查看3306端口号是否已经暴露出来\n[root@host102 mydir]# firewall-cmd --list-ports  \n3306/tcp\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br")])]),n("p",[s._v("我其中一台虚拟机ip:192.168.163.102"),n("br"),s._v("\n虚拟机名host102"),n("br"),s._v("\n大家请根据自己的实际操作环境自行填入信息验证。"),n("br"),s._v("\n接下来用可视化客户端sqlyog测试连接："),n("br"),s._v(" "),n("img",{attrs:{src:"/images/mysql/mysql1.png",alt:""}}),n("br")]),s._v(" "),n("h3",{attrs:{id:"完毕"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#完毕","aria-hidden":"true"}},[s._v("#")]),s._v(" 完毕")]),s._v(" "),n("p",[s._v("centos7环境下安装mysql,就到这里，相关mysql的增删改查操作，请自行验证。"),n("br"),s._v("\n后续会介绍mysql的主从复制，读写分离以及基于mycat的分库分表的实现。")])])},[],!1,null,null,null);a.default=t.exports}}]);